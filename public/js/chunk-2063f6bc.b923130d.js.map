{"version":3,"sources":["webpack:///./src/views/widgets/WidgetsDropdown.vue?977b","webpack:///./src/views/Dashboard.vue?7401","webpack:///./src/views/charts/MainChartExample.vue?6a81","webpack:///src/views/charts/MainChartExample.vue","webpack:///./src/views/charts/MainChartExample.vue?de61","webpack:///./src/views/charts/MainChartExample.vue","webpack:///./src/views/widgets/WidgetsDropdown.vue?65b4","webpack:///src/views/widgets/WidgetsDropdown.vue","webpack:///./src/views/widgets/WidgetsDropdown.vue?06bc","webpack:///./src/views/widgets/WidgetsDropdown.vue","webpack:///src/views/Dashboard.vue","webpack:///./src/views/Dashboard.vue?2310","webpack:///./src/views/Dashboard.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_l","value","key","selected","on","$event","selection","_s","componentKey","staticStyle","data","Date","getFullYear","staticRenderFns","defaultDatasets","defaultOptions","name","components","CChartDoughnut","expenses","sales","props","computed","maintainAspectRatio","legend","display","methods","component","navigate","scopedSlots","_u","fn","proxy","expenseNumber","salesNumber","medicineNumber","salesArr","expenseArr","incomeNumber","mounted","getExpenses","getSales","getMedicineData","$http","$router","push","MainChartExample","WidgetsDropdown","ChartLineSimple","getmonth","monthName","getYear","year2","selectArr","purchaseNumber","nextMonth","prevMonth","currentMonth","forceRerender"],"mappings":"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","file":"js/chunk-2063f6bc.b923130d.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WidgetsDropdown.vue?vue&type=style&index=0&id=8b32eca6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WidgetsDropdown.vue?vue&type=style&index=0&id=8b32eca6&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('WidgetsDropdown'),_c('CRow',[_c('CCol',{attrs:{\"md\":\"4\"}},[_c('CCard',[_c('CCardBody',[_c('CCol',[_c('h4',{staticClass:\"card-title mb-3\",attrs:{\"id\":\"traffic\"}},[_vm._v(\"Monthly Report\")])]),_c('CCol',{staticClass:\"d-md-block\",attrs:{\"size\":\"sm\"}},[_c('CButtonGroup',{attrs:{\"vertical\":\"\"}},_vm._l((_vm.selectArr),function(value,key){return _c('CButton',{key:key,staticClass:\"mx-0\",attrs:{\"color\":\"outline-secondary\",\"pressed\":value === _vm.selected ? true : false},on:{\"click\":function($event){return _vm.selection(value)}}},[_vm._v(\" \"+_vm._s(value)+\" \")])}),1)],1),_c('MainChartExample',{key:_vm.componentKey,staticStyle:{\"height\":\"400px\",\"margin-top\":\"40px\"},attrs:{\"data\":_vm.data}})],1)],1)],1),_c('CCol',{attrs:{\"md\":\"8\"}},[_c('CCard',[_c('CCardBody',[_c('CCol',{attrs:{\"sm\":\"5\"}},[_c('h4',{staticClass:\"card-title mb-0\",attrs:{\"id\":\"traffic\"}},[_vm._v(\"Yearly Report \"+_vm._s(new Date().getFullYear()))])]),_c('ChartLineSimple',{staticStyle:{\"height\":\"515px\",\"margin-top\":\"40px\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CChartDoughnut',{attrs:{\"datasets\":_vm.defaultDatasets,\"options\":_vm.defaultOptions,\"labels\":['Expenses', 'Sales']}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <CChartDoughnut\r\n    :datasets=\"defaultDatasets\"\r\n    :options=\"defaultOptions\"\r\n    :labels=\"['Expenses', 'Sales']\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport { CChartDoughnut } from '@coreui/vue-chartjs'\r\n// import { getStyle, hexToRgba } from \"@coreui/utils/src\";\r\nimport _ from \"lodash\";\r\n\r\nexport default {\r\n  name: \"MainChartExample\",\r\n  components: {\r\n    CChartDoughnut,\r\n  },\r\n  data() {\r\n    return {\r\n      expenses: 0,\r\n      sales: 0\r\n    };\r\n  },\r\n  props: ['data'],\r\n  computed: {\r\n    defaultDatasets() {\r\n      return [\r\n        {\r\n          backgroundColor: [\r\n            '#E46651',\r\n            '#41B883',\r\n          ],\r\n          data: [this.data.purchaseNumber,this.data.salesNumber],\r\n        }\r\n      ];\r\n    },\r\n    defaultOptions() {\r\n      return {\r\n        maintainAspectRatio: false,\r\n        legend: {\r\n          display: true,\r\n        },\r\n      };\r\n    },\r\n  },\r\n  methods: {},\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainChartExample.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainChartExample.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainChartExample.vue?vue&type=template&id=1370d53f&\"\nimport script from \"./MainChartExample.vue?vue&type=script&lang=js&\"\nexport * from \"./MainChartExample.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CRow',[_c('CCol',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"sm\":\"12\",\"md\":\"6\",\"lg\":\"3\"},on:{\"click\":function($event){return _vm.navigate()}}},[_c('CWidgetDropdown',{attrs:{\"color\":\"warning\",\"header\":\"Create new Sale\"},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('CIcon',{staticClass:\"mt-0 icon\",attrs:{\"name\":\"cil-print\"}})]},proxy:true}])})],1),_c('CCol',{staticClass:\"h-10\",attrs:{\"sm\":\"12\",\"md\":\"6\",\"lg\":\"3\"}},[_c('CWidgetDropdown',{attrs:{\"color\":\"danger\",\"header\":\"Rs \" + _vm.expenseNumber,\"text\":\"Expenses this Month\"},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('CIcon',{staticClass:\"mt-0 icon1\",attrs:{\"name\":\"cil-money\"}})]},proxy:true}])})],1),_c('CCol',{staticClass:\"h-10\",attrs:{\"sm\":\"12\",\"md\":\"6\",\"lg\":\"3\"}},[_c('CWidgetDropdown',{attrs:{\"color\":\"success\",\"header\":\"Rs \" + _vm.salesNumber,\"text\":\"Sales Today\"},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('CIcon',{staticClass:\"mt-0 icon1\",attrs:{\"name\":\"cil-chart-line\"}})]},proxy:true}])})],1),_c('CCol',{staticClass:\"h-190\",attrs:{\"sm\":\"12\",\"md\":\"6\",\"lg\":\"3\"}},[_c('CWidgetDropdown',{attrs:{\"color\":\"primary\",\"header\":_vm.medicineNumber,\"text\":\"Number of Available Medicines\"},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('CIcon',{staticClass:\"mt-0 icon1\",attrs:{\"name\":\"cil-healing\"}})]},proxy:true}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <CRow>\r\n    <CCol sm=\"12\" style=\"cursor:pointer\" md=\"6\" lg=\"3\" @click=\"navigate()\">\r\n      <CWidgetDropdown color=\"warning\" header=\"Create new Sale\">\r\n        <template #footer>\r\n          <CIcon name=\"cil-print\" class=\"mt-0 icon\" />\r\n        </template>\r\n      </CWidgetDropdown>\r\n    </CCol>\r\n    <CCol class=\"h-10\" sm=\"12\" md=\"6\" lg=\"3\">\r\n      <CWidgetDropdown\r\n        color=\"danger\"\r\n        :header='\"Rs \" + expenseNumber'\r\n        text=\"Expenses this Month\"\r\n      >\r\n        <template #footer>\r\n          <CIcon name=\"cil-money\" class=\"mt-0 icon1\" />\r\n        </template>\r\n      </CWidgetDropdown>\r\n    </CCol>\r\n    <CCol class=\"h-10\" sm=\"12\" md=\"6\" lg=\"3\">\r\n      <CWidgetDropdown\r\n        color=\"success\"\r\n        :header='\"Rs \" + salesNumber'\r\n        text=\"Sales Today\"\r\n      >\r\n        <template #footer>\r\n          <CIcon name=\"cil-chart-line\" class=\"mt-0 icon1\" />\r\n        </template>\r\n      </CWidgetDropdown>\r\n    </CCol>\r\n    <CCol class=\"h-190\" sm=\"12\" md=\"6\" lg=\"3\">\r\n      <CWidgetDropdown\r\n        color=\"primary\"\r\n        :header='medicineNumber'\r\n        text=\"Number of Available Medicines\"\r\n      >\r\n        <template #footer>\r\n          <CIcon name=\"cil-healing\" class=\"mt-0 icon1\" />\r\n        </template>\r\n      </CWidgetDropdown>\r\n    </CCol>\r\n  </CRow>\r\n</template>\r\n\r\n<script>\r\nimport _ from \"lodash\";\r\n\r\nexport default {\r\n  name: \"WidgetsDropdown\",\r\n  data() {\r\n    return {\r\n      salesNumber: 0,\r\n      salesArr: [],\r\n      expenseNumber: 0,\r\n      expenseArr: [],\r\n      incomeNumber: \"\",\r\n      medicineNumber: \"\",\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getExpenses();\r\n    this.getSales();\r\n    this.getMedicineData();\r\n  },\r\n  methods: {\r\n    async getExpenses() {\r\n      await this.$http\r\n        .get(\"http://localhost:3000/purchase/getMonth\")\r\n        .then((res) => {\r\n          var d = new Date();\r\n          var month = d.getMonth()+1;\r\n          var thisMonth = _.find(res.data, function(o) {\r\n            return o._id == month;\r\n          });\r\n          this.expenseNumber = thisMonth.total;\r\n        })\r\n        .catch((err) => {\r\n          // eslint-disable-next-line no-console\r\n          console.log(err);\r\n        });\r\n    },\r\n    async getSales() {\r\n      await this.$http\r\n        .get(\"http://localhost:3000/sales/getToday\")\r\n        .then((res) => {\r\n          let sum = 0;\r\n          res.data.forEach((element) => {\r\n            sum += parseFloat(element.total);\r\n          });\r\n          this.salesNumber = sum;\r\n        })\r\n        .catch((err) => {\r\n          // eslint-disable-next-line no-console\r\n          console.log(err.response);\r\n        });\r\n    },\r\n    getMedicineData() {\r\n      this.$http\r\n        .get(\"http://localhost:3000/medicine/get\")\r\n        .then(res => {\r\n          this.medicineNumber = String(res.data.length)\r\n        })\r\n        .catch(err => {\r\n          // eslint-disable-next-line no-console\r\n          console.log(err.response)\r\n        });\r\n    },\r\n    navigate() {\r\n      this.$router.push({ name: \"Cashier\"});\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.icon {\r\n  align-self: center;\r\n  height: 105px !important;\r\n  width: 67px !important;\r\n}\r\n.icon1 {\r\n  align-self: center;\r\n  height: 83px !important;\r\n  width: 67px !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WidgetsDropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WidgetsDropdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WidgetsDropdown.vue?vue&type=template&id=8b32eca6&scoped=true&\"\nimport script from \"./WidgetsDropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./WidgetsDropdown.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WidgetsDropdown.vue?vue&type=style&index=0&id=8b32eca6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8b32eca6\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <WidgetsDropdown />\r\n    <CRow>\r\n      <CCol md=\"4\">\r\n        <CCard>\r\n          <CCardBody>\r\n            <CCol>\r\n              <h4 id=\"traffic\" class=\"card-title mb-3\">Monthly Report</h4>\r\n            </CCol>\r\n            <CCol class=\"d-md-block\" size=\"sm\">\r\n              <CButtonGroup vertical>\r\n              <CButton\r\n                color=\"outline-secondary\"\r\n                v-for=\"(value, key) in selectArr\"\r\n                :key=\"key\"\r\n                class=\"mx-0\"\r\n                :pressed=\"value === selected ? true : false\"\r\n                @click=\"selection(value)\"\r\n              >\r\n                {{value}}\r\n              </CButton>\r\n            </CButtonGroup>\r\n            </CCol>\r\n            <MainChartExample :data='data' :key=\"componentKey\" style=\"height: 400px; margin-top: 40px\" />\r\n          </CCardBody>\r\n        </CCard>\r\n      </CCol>\r\n      <CCol md=\"8\">\r\n        <CCard>\r\n          <CCardBody>\r\n            <CCol sm=\"5\">\r\n              <h4 id=\"traffic\" class=\"card-title mb-0\">Yearly Report {{new Date().getFullYear()}}</h4>\r\n            </CCol>\r\n            <ChartLineSimple style=\"height: 515px; margin-top: 40px\" />\r\n          </CCardBody>\r\n        </CCard>\r\n      </CCol>\r\n    </CRow>\r\n  </div>\r\n</template>\r\n<script>\r\nimport MainChartExample from \"./charts/MainChartExample\";\r\nimport ChartLineSimple from \"./charts/CChartLineExample\";\r\nimport WidgetsDropdown from \"./widgets/WidgetsDropdown\";\r\nimport moment from \"moment\";\r\nimport _ from \"lodash\";\r\n\r\nexport default {\r\n  name: \"Dashboard\",\r\n  components: {\r\n    MainChartExample,\r\n    WidgetsDropdown,\r\n    ChartLineSimple,\r\n  },\r\n  data() {\r\n    return {\r\n      getmonth() {\r\n        var monthName = moment()\r\n          .subtract(\"month\")\r\n          .startOf(\"month\")\r\n          .format(\"MMMM\");\r\n        return monthName;\r\n      },\r\n      getYear() {\r\n        var year2 = moment().year();\r\n        return year2;\r\n      },\r\n      selected:\"\",\r\n      selectArr: [],\r\n      data: {\r\n        salesNumber:0,\r\n        purchaseNumber:0\r\n      },\r\n      componentKey:0\r\n      };\r\n  },\r\n  mounted() {\r\n    let currentMonth = moment().format('YYYY-MMMM')\r\n    let prevMonth = moment().subtract(1, \"month\").format('YYYY-MMMM')\r\n    let nextMonth = moment().subtract(2, \"month\").format('YYYY-MMMM')\r\n    this.selectArr.push(nextMonth)\r\n    this.selectArr.push(prevMonth)\r\n    this.selectArr.push(currentMonth)\r\n    this.selected = currentMonth\r\n    this.selection(currentMonth)\r\n  },\r\n  methods: {\r\n    async selection(v) {\r\n      this.selected = v\r\n      let MonthName = v.split('-')[1];\r\n      let Year = v.split('-')[0];\r\n      let Month = moment().month(MonthName).format(\"M\");\r\n      let body = {\r\n        Year: Year,\r\n        Month: Month\r\n      }\r\n      await this.$http\r\n        .get(\"http://localhost:3000/sales/getMonthlyReport\", body)\r\n        .then((res) => {\r\n          var thisMonth = _.find(res.data, function(o) {\r\n            return o._id == Month;\r\n          });\r\n          if(!thisMonth) {\r\n            this.data.salesNumber = 0\r\n          }else {\r\n            this.data.salesNumber = thisMonth.total\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          // eslint-disable-next-line no-console\r\n          console.log(err.response);\r\n          if(err.response.status == 401) {\r\n            this.$store.dispatch(\"logout\").then(() => {\r\n            });\r\n          }\r\n        });\r\n      await this.$http\r\n        .get(\"http://localhost:3000/purchase/getMonthlyReport\", body)\r\n        .then((res) => {\r\n          var thisMonth = _.find(res.data, function(o) {\r\n            return o._id == Month;\r\n          });\r\n          if(!thisMonth) {\r\n            this.data.purchaseNumber = 0\r\n          }else {\r\n            this.data.purchaseNumber = thisMonth.total\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          // eslint-disable-next-line no-console\r\n          console.log(err.response);\r\n          if(err.response.status == 401) {\r\n            this.$store.dispatch(\"logout\").then(() => {\r\n            });\r\n          }\r\n        });\r\n      this.forceRerender()\r\n    },\r\n    forceRerender() {\r\n      this.componentKey += 1;\r\n    }\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=114cb2a0&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}