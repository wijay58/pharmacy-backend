(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d23822a"],{fda7:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("CRow",[n("CCol",{attrs:{col:"12",md:"6"}},[n("CCard",[n("CCardHeader",[n("CIcon",{attrs:{name:"cil-justify-center"}}),t._v(" Notifications about stocks running out. ")],1),n("CCardBody",[n("div",[0==t.lowMeds.length?n("CAlert",{attrs:{color:"success"}},[n("strong",[t._v("Currently has 0 low stocks.")])]):t._e()],1),n("div",t._l(t.lowMeds,(function(e,o){return n("CAlert",{key:o,attrs:{show:"",color:"primary"}},[n("strong",[t._v(t._s(e.medicine.name))]),t._v(" only has "),n("strong",[t._v(t._s(e.remaining_quantity))]),t._v(" items left. ")])})),1)])],1)],1),n("CCol",{attrs:{col:"12",md:"6"}},[n("CCard",[n("CCardHeader",[n("CIcon",{attrs:{name:"cil-justify-center"}}),t._v(" Notifications about stocks expiring. ")],1),n("CCardBody",[n("div",[0==t.expireMeds.length?n("CAlert",{attrs:{color:"success"}},[n("strong",[t._v("Currently has 0 expiring stocks.")])]):t._e()],1),n("div",t._l(t.expireMeds,(function(e,o){return n("CAlert",{key:o,attrs:{show:"",color:"primary"}},[n("strong",[t._v(t._s(e.medicine.name))]),t._v(" only has "),n("strong",[t._v(t._s(t.getdays(e.expiry_date)))]),t._v(" days left to expire. ")])})),1)])],1)],1)],1)},s=[],a=n("c1df"),r=n.n(a),i={name:"Alerts",data:function(){return{lowMeds:[],expireMeds:[]}},mounted:function(){this.getData()},methods:{getData:function(){var t=this;this.$http.get("http://localhost:3000/notification/get").then((function(e){t.lowMeds=e.data,console.log(e.data)})).catch((function(t){console.log(t.response)})),this.$http.get("http://localhost:3000/notification/getExpiry").then((function(e){t.expireMeds=e.data,console.log(e.data)})).catch((function(e){401==e.response.status&&t.$store.dispatch("logout").then((function(){}))}))},getdays:function(t){var e=r()(t),n=r()().startOf("day");return r.a.duration(e.diff(n)).days()}}},c=i,l=n("2877"),d=Object(l["a"])(c,o,s,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d23822a.f9322794.js.map